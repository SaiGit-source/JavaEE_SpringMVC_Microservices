<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="ISO-8859-1">
<title>Customer List Page</title>
<link rel="stylesheet"
    href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
    integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
    crossorigin="anonymous">
</head>
<title>Application response</title>
<link type=text/css rel="stylesheet" href="./style.css">
</head>
<body style="align-content: center">
<A href="registration" class="btn btn-primary btn-sm mb-3">Click to register new customer</A>
<div class="container my-2" align="center">
	<h2 style='color:blue; text-align:center'>Customer List Data</h2>
	<table border="1" class = "table table-striped table-responsive-md" style="width:60%">
		<thead>
	   	<tr>
    	<th>First Name</th>
    	<th>Last Name</th>
    	<th>City</th>
    	<th>Update Data</th>
    	<th>Delete Data</th>
    	</tr>
    	</thead>
		<tbody>
		<tr th:each="custRec:${cxlistKey}"> <!--  loop in thymeleaf -->
		
	    	       <td th:text="${custRec.cfirstName}"></td>
    	           <td th:text="${custRec.clastName}"></td>
    	           <td th:text="${custRec.ccity}"></td>  
    	           
    	           <td>
    	           	<!-- Add "update" button/link -->
					<form action="#" th:action="@{/updateRecord}" method="GET">
					<input type="hidden" name="cxidKey" th:value="${custRec.cid}"> 
					<button type="submit" class="btn btn-primary">Update Record</button>
					</form>
					</td>
    	            
    	            <td>
					<!-- Add "delete" button/link -->
					<form action="#" th:action="@{/deleteRecord}" method="GET">
					<input type="hidden" name="cxidKey" th:value="${custRec.cid}">
					<button type="submit" class="btn btn-danger" onclick="if (!(confirm('Are you sure you want to delete this customer info permanently?'))) return false"> Delete Record
					</button>
					</form>
					</td>
    	 </tr>
    	 </tbody> 
    </table>
</div>
</body>
</html>